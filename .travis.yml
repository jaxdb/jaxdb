# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -Dmaven.rtest.skip -DrepoToken=$REPO_TOKEN clean deploy -P deploy;
  else
    mvn -Dmaven.rtest.skip -DrepoToken=$REPO_TOKEN clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: LD79xhki2KS2DF9/59eKq9PzJZqrhokVAnaxJeh157QhtHD6SHYVshG3fqStH9NpAI/MDbhMlrxG1Diwt1ICq++NgaWVYkGbNQ6CYTzzvIVv+dGySDgQj3DplwOppbwXBUNRAVcu2esNG2RxnxmPYmqIPKap9WfVAXOk9HOMqQnYDY57f0Cbg7CgBi7D2bDdn5NfJn7kLBiyJRTy5v/yAgoRXhl641JxVdnIvmR0F+MHySdpNbsRqdXaa8u8ouCh2A+MQJkpDfq0bO+SPOIovkM3pwnDXmMk9dCPRNVL2fkrk3fH4/MugbJbIgJ/zfbk6X0doC2AqhUNGXLit0zGnW6e7e13G8YCrIlkeeYNqkV1k68Ygq9Tq5bQGeRJXUtIBVPxlg2uDAE7xdsnASaHoEKnh/z0T/v5XK+7WjSNCrdWgf4lAfgLNla9M9YyIdltP6XpIdGmdrXQfYuBbe+yYRL1kzYQjpbkmPvwjI5FmCMZs14sQSnakIV1tk0tnxEc5VNXYhakDyHctzZNKW3mzKiP1RRjB8JQG3Pxj1hj8rWpmo6mFuAgqsrv2llpfIBHR7VF2gYMmmOzZD1D8HVAtmCuQx9y9KLIF2ez9zpy7eSHKxnHW9CAap7cqyzeCxd4XB9F3hPYreEJxaV3WU7U3D9XYVPbYPBaVwlaAyVWOH8=
  - secure: yr3jyWd2iYsvh0qR8KNtmFh9gYiaNsuYwH2tBYWT7R8sTv/OaQBaAsA5YoA4zuuKNEP051EKNQgEBlH7J9CwCcCuwuOjeYTq903fU5Gy4vooeB/bUIMFFs+JM5Fzo55LafCi+9sSQ7p24LueU3J3MJ68ZaYmAZ7GRPXCDdx2yWcjGfTAm5Id78p7YDPYuo6EGqck+xRyuyi3ZCDfe1JYikd032J9Zl8kS6Q831iSt1Xlx6W3z46KkLpcW6/5zR8yfyXEI7qSYU2z2vGP7HbWgnPkwYilu2fOp3BMculWlhMl8rtiMULI8bs+krOr2HnP3X9FXkRzhc5NOR5P9bNHdxzupw5nhXaVAvWrFB0eSzLFiSwGSGTw39AuIo8ZzZvsM1ltGF0+o16lnRTXkzF13fDZ9sLgxzss/ATNfXgVo768InIcqodjuOh2D3k/A+8YlPnwM61ZxpulybWggizFSYi1z2a/iozarl+ZKa90PaaYxcWpAnBO4FwgQDU9QWPbQYgDQi5S0yEdraW/zIdhtTh+hoeRUNk7yL5BThfiZpAK5N57zgooU7HfO2yzND/SoGC3hfF0/g3f3xW7qffCg05PQWvXiIRIJYs0WoXgxRSOzk7IF0ausTlSpV6CWEHdQZV4oyz9GfGpdLOeBBEKKBR5FOnTKUIh7DCZRzTSQtQ=
  - secure: WuOxYx5ts6V9eSvYS1Pt35H+C4+tsQ23bS6F+7dPYDQ2eTe7MkhU4dIIBj7WaGVglZbNIh8NRzV/VzGYondcnD1wiixwo/q1YdyNpkJlZuKYVRJVlZPyfsclfsK5oQmDyQ0Uf2CV41Xs9gi7AF9LY0cOf1YTQ27QeOU7iCXwdlGbH5V5jQgsJJjAd4Rx/KvK4pDoYJ/7LiGVW22erY58W6nJ/5G0ZP+xD7xrsTbBvftemdgyNbv1WbJpqxaG2Jo/OmkDKPkwK0tlgu9K3mnLWjmOqwJ28snc6dH1CDUftO4jUOcrsOzE5GIq3zvlc9yyX5ZUgBBgJ3cBFw6LReW97jbaZrnkqvgkRB26viLMuTba6ZLMQxjDyXfwEUFOD7F+zJDA7ffHyox/nR0tR5tz6OOvQOW5V8ZhsXC/hNIvq+qIE0UtjIIzBoUaeMHd5G1We51n4XgSxiORM2hvxdaOwOmyRm2F09lFrBEEExrMCbL17XQ+XRcQkOpcGKIKGGTpOnWdxr2zr3pQwyXIQdt2+5oYwKtN889fMkGDqnKA0DlpcAxskONpYT1gnGw5U1fUMyqqcTfFdR6Z1XFZesYF5aGaOFk5vcawDkqsqqDFj3L5rSIEbSLVV2irut7cLAQgzQrRcGxiQ/YJdi8Xi9wswj4iBVjteicsexTX1sfOdJE=
  - secure: xkYEnkx+v28vOw3ZVw69V7f2J3OkgOe/sT5hn339xUaNgnla4+7IFxkCzu6xmAS0q9Wpk2E4D70GYyA9f2N7zjYXjBE0MxQc2kqjXmngF47Uvz+53wvPo4OuijU3k0N9lxGDuCvmP8FheD4126brfufgPDMI3fnDza64E4gAZwnUrConGlszLUf5mAcDIrZLtVNoOwAoMl1h1sKrVuDbpbGmU3IHaH4a25z9MF/9/6Qt0uxmgWDvB1q4Rrl8ucSGsyub0hQUUqfosA6Vfgm4JkgP1VwSJlftdWaensKQ8SWTzc1O5Az/YpgDs3T4eJfeeTgsPZ2cF58bvEaowtUao5sUZAtk8XBJ/7YURBoQxGSD9tvRyphdd9MsGqW1HoieoOEhNZsxwJGu5/A3XjS640kYVgKcJh1LoH19shIfxSCaRCLJsTQk7Tw5Zr+MMGhtRo4tqTLXU5gEzszHCAVaWVUMuBFF3TAoMOVoSkxDi/QHEgNSZz2mLOgOp0CeEIlCQ0z1IKao+v8XKBexI2EzJzz4RWk8zQMwT0djZTX8LcQ5BI50UxHEAEoRB3dBY7FSySWpzgMyl7SnwYZmGq07Fdk9czqUJmz83C93zesbnQNTr6U/TKdquPJ/qv7zM2TLkKi8wWzBJVlagQdXSVUqPPK2oouvDRM1x8u20pj9rNM=
  - secure: wNU2Mqqh7nOAuNzIqqFppeomV2XcYfmYrTUPFasZNq/yb/+jy5XcN2IM6ocgkEUPEacsvpo7yh/SkusnGN7c+fhWNPzppksk6Tjjl6kTF5A3VPfJ5RJ3HwHoZWDhrbIljOf+y3YebaDQOGdgr1IP9WJKQ2kUTQ9O8GohdTu6t00KWWZ5gL0kUE4MYw0vrUWjFNuYQGz6lo0LLnPd9Rhg8hdfwuo9ZH/JaNLuEP8iWEG1r5JT7zsdZ7YfQgu80elkVK/LgzBMT1splAKKGR34bAXnrgQb3LJDTFOiN8PlUdPk39/uehWk6wdSF7oQn+P0mNrJTnuI6xe++LlRqWRJj4zjfQsXQCsY3ygnYhVfCkPV5zHQHplWcYZoSRMOJheNm6IQmTORgP4C7z1ih3WQldZMPJjC8S3tAAVzJ0pGKJcLWwFokpHvxaC7IS3mplOB+UaaA3mftBaFceF0Luogeb83ZSUlvHRHR447VIeP2bm0uBZtH59nmBaUHC/Qkl9o1Pzg1xl8zslNCTg6mqnye5v6ZDcYPyiVRo4PWvoTwYiK5CqYueVua94Jl0eedAhiNmyU5wW6JYFT+7BYy5Quy+o3Jr4r/dZAKjqXefDzrL4vlOfEkhTpXG3gcW+qyOent6wluE1mQIBZ72Sf3JnrXte2ksLmyondq5GUu2+ThhY=
  - secure: Vnfr/p6u9dMfLCLtGpXQ9hh80jN+Q15E012s5cmTb8+WahNxpi8jurFdRA9ZqP8CmR1cRN58CSlbgu+DaVEaa/A2+AWBAhWvNnRUAAt+zK9KmTS3Fh/xIL+Sb1uRTMfQJOxn3kl9dA5gd+e1hfoeus3Wm4cXWkKMDXwo7g4R73HvW/NflwXSnUuzv2g5pkF5CuLD9u/DJUzLkuZ9HFqVfda30dC2pdNtgJmgDISmldr9Ma5rs3PDyCPqPndz+88/QBIn98nH6zLUx6zM1mwNom+2Qs5YnN5V3PW9lJOYVSqRK/0lYlq0WDx+tFPaL6SWGSSD7lSd2n+b3w80qWvdHv58QlS+e3wSlcsE3vqOdEWtm+7+8rq7YH3ta34CHA3dQz2Zbb0Fb3HP3lyUGbLWrk7tHYTR+HQpE4GRE0q1A2vpBpuJHFaakCsMj5X5nlyWtS6zAF0woQyAO2eN6VXWFiHojj1BqxBuzRF064rzBNmjLYywMFcWxBSwGbZe7DPVaxIFJyooCXYrDT1NECYGVc3DSSn4NQEI+/V/sqihUs5BneADRh4Yogk1eQE/gYOa4AjShplU5srm1ENtJnSLXlKZ36dDULQKXIhEf3m3PX1HN8+YZdPqTbRwQduJ4Kv2pNkvv03H5mFLMwEQt7oo5GcP+HPRYq2/QxsMJYAwb5M=
  - secure: hUtTKo5kp80c1yuOnElP6M4yVX6y1m3Yj2SsvJXfTQvpVr+hi6HJxsdr+3Or6PPD8DXml8vnvrVXaK26XnoFr3mRkWFGJ6QGOY6dUtJ44Sz0UYfkpkzwbRxUpFaeOiJvKJR2gaosggVW+7iIT+kj4+yzoFN++TFcjmDrqr33MrS1UNFa0sswleyT7fcpTZMAX4S6kbISBPDhPrm34DOLVBguj2phEQmbjc8fn+4Wisr6ddCjPMr+YcNMp91fWr424XU0kiGl1942R7oB/n+f+yJz4D8gB/1GIJHijhoxGpYoxiwEyfdsZY5vzSbEguiAIpM+zTEUecLAY8hwQfBJKnkeJ94JAZxnbstmT6PucMEHzFNL/XtmexWeE+8cVjY4jBuXDYwBuJyfdpQ9T8QSyngVOp+/F8MeD3vrHhSp8FEj7RLvV9otBP4WX354m16pP57ya6CSP7zVOegLXsqK2UxKzRTye9KdLn0NppakOsIzLyIGb4KjtcUDdSVGda7MJ8NrvPbMhL/E0DsAzkHo8GkP/T34A0KsShCSAxgQ66IHg+s6jfIdkBmbZg/EXwpFWuKJnqMCcdvRikKs0z+QkVU+YezZ6Q2K1djOTBGcMNI9XfCE//GDqfMhl6OOkjBGRWx3EUTo6pqC2AXtBs+O4wX/qHODtSSTdSnPVv5Ge5M=
  - secure: aDVN0ogPSBunVguVSeOClBVrRrGqNCxQqS/xL1lhRa+uwCoivM5OUZcUdqM2saIKh6dJjRg16Mo/efOlggB6GwKVCz1lVqDf6fmSD5k0zFiqzOqU1t/9rbkbCu8uWltglF/Hq/JEBzs3QvM+YGeMY68+DeAA4Mg6kwk/RjFQl3E0Yd1HhsEOvQDkekBEyRg7m2aCSTo0nBsqanvBo+WHOkWYvU6ECD0YyuqGGw0BP4EXjVWdDHCVmEJIg+qYsAa9r49fCw+rDz65AWa3F58BqceHVyDEFextBiwxfHPa9U4OXRSY7Cx8IV3AlC0ymqG7cWaeuapQTQWOoDjHs83GmwOCAx16COHKl7XglEvtnFqUA8aSlGewwF0+MZwS0X4N+d7s0BjrjtWYmxOc970wH1HCx47h1sLemknYotArZBouaukq06lZVgL2sy54EwCGGk4cxC53J2xr+XFSLrekzYZyJIh7cEfU5ln0lequXvHLuXjVfgZCuGm9GnBSP8NNzPAJsAHBXyVMtkcRXsFstQDUvUcYUEXYWfryEEPPqS/EeNFS3WPZmzC3rTcCTjKApkLYeCsV3/eM1OezGqCGCnPztLZ7UuHjf0jLBsx217BKVijS1DYYUKr0lMYeI/4Om4hGqa0ic3vulLdDdfweuKZNcI2VHHsar408R/XOYRA=
  - secure: FxCkRc5dnIlOzIul6KcDmK1aCjX++gTTlQPAoqzpIx8qZnapKaF7sImnQc92EVRpl9u65wwiBTRRCeLcS7GRPni7LTazZXPfyEWqR72d9sALnEEG229tcHVsyNV+v1KrUADgkQcqaQ3TKvo7PiqaxIAIAG6t10ZLRAO33MGaQa0VJZW3RM2437Y2sYg1LMjWAcmIlbziwJ7H7oFG6El2MhU8qCkSZu0xm79FiMxbq+VWMyLOenHSNpj9/RbY4srFibBSg1TGZ4ewCku7nAi7N5+NjFS+n9oiwUv4UqhGBwT6/4OC4R2JyVhfIEeOxrLJy4QeXvlPQhmqBQfIo7+nvwDBg9lqhDs1kRLZtCVmPdekn8efFyvRwoZdVZcBocWaMwSgz6U1ui6XL+PLJ+vh/jzhhRugGNjQda+iPAePLUMzU68I8ZxBmTGDkIUgZYOF9060hDmFqiOetei3Xhi1JrwMcAjpavtl83aMAxZyv6PW8R9a5NzdGuhg/3ry6SPQWE+scrrtDdZNlIxU4dXCggv0BxIbK345bvvnWcV0EMevh5YsEmE1U5agpKsgMVSFvQDGa5nLg/yy2yYBs3wtjG3Hb68J8xjLjJBeu2bSfBKJvGnRST+Gh+gxb33zQiSYTbJCbBo5S0I5Y37YRccMf308Ig+yZrc9Z8NszizXUaU=
