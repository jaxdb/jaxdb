# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -Dmaven.rtest.skip clean deploy -P deploy;
  else
    mvn -Dmaven.rtest.skip clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: 3sJ+JRokRFaZLBxU5dIxX8hdzXazdOHfgcqwSL42A9Q/I1JyZem+9djr5Mwb4sEcyTXtNalfAaTKrXnG4Xc+4az+dL2WBW/FlRlzMCJY1pUDlrPmeg+Z1N8UqLWRaSqtTUz8bDyeWsKEmUBujRUWksKxKghZ3NGYfDYL3mAnenBH6QUcyvLcjR26pCEFU/YbobM8M3YSMpCksVkl1PfgCarCxAQ2hA1rHisCd1SObEkLwERmyaXx9IJmnxsGeQ3wOgKAbd7fLomE6n7HlzP2dxcyM+p2Crc0UtZ2tnUElJIVgWFv5OReHChyS+G/evFx88pc00vwwu0zgYft11Z75OYoLuUHI8hsXaSptqXbtpv5bjBENYhGAlYxDZRoVFTTM8Kaut/GQKFOJhRC/Ewniy9ehfDU68rfILaxAKXmaoBJzM4W7bvEoFwNzBVgXVlAcGKNx2BM+/sdZHkNcDvcGGbftj4jRguwUTbKkMVRIKcamCyBj2vThTmxkpGuZRMm2WK2y4J6hzK6qQQZMftY5ELSdRlrZCJqskFcntNZyGBCWk8067T5Wu2d0wr3V49KRNLB2BDt06twensLHemaBf86GJHOR36u4GfoDtXrVDLCJbu/t0GBtG9dMLM3rQ3u+c7QF6uD4vqvja74gJFWBKUSshIThp8cyep1cfUcKYs=
  - secure: MnBAdS6+ojfqDqhYTf0xC33Ir8+aXXDHdiWyBAViry9NKRSce4EHInMzTVivaUSEmrap8NrXRY8vWp8OkT+CjumtHnXOKcTwJpsmgjjYlCJnLMbH/4nCLEzZq5wvKqXor7uAh9cDdS9qZd3G37AHFr9MR8w2IYgA/rY4f+8Z/cEoJfLTP31ZR6C/jq3NiLoaowm8ifQhCJG88ch+YHEWkEo1ioFPzsHw0QTArofj64wHgdVnf9xonxvJWDor8XwmUPBjZlG7EY8Otpf7SFWqxQ1Q0MDZGAnxjNXPaCLrX93EGFmIhTB9DRxo4AVM8vsCv78wHhbMP2UxYzwCZxfvOkXtrrTZQrUUg6Wk19h8qnZ16OPOGx/aZ5s6+TFaic4VtZx7cW89L3uN4JZ2dAKBn/FVNFJaRZDVgoeMDqh0SZr6f3yw4Nx4RtQGtEATq9UafuVBPl+F2bLLkMXbBL+vhNZ66zZjJBXMznUEcw6e0YjrFI1CJIywqVwbFQ3lMXjvssIJgKut7EdSXSSjTfERNmcJEq1h74/V8K/PRmW4oRc999P4cSo9xzYVjGdP0e5RnVX/8eBjSxX3FthOSSkJmu77mSFLGCLLNUkRqwzeAMOCJjqRXjRbINnWhoOI+1xSaHIWqWp/F4oF4/GBPurx4vjqBrdWd3uFmkh4BfpvWOE=
  - secure: kP41Bqb6UmGAiM+6Llh8yvO6kCffqfAE9L6EJCB9zyXxf46I5B8IvmCkX3HQoopU7hDnqWn8n5axnHFeNboSDtzKzk5sb1PIhEVnbo/hMBFgksOTwK+652UDXY/1XWP1buwubAoHC5lceKJujgAwvOEBLTg1vBdz818lX4vY1+gnz40LzaLRiHotds99W8pbD1ZeLowjdO/yu0jQnzZYWiUCj+d2mGXJMj9CIgSP9dGSlgbsLu4yO5596iMk/PpelVORAmwbkWURAix5i75H31gl4dx8bD4ekfrv40wQsHh3UkxPteQ9OjFGEkkeFWe6QaI8Twv7C5a9WC/Pfk3wQa2nC/O3OBStJMQ96PMp1Eopc/64J0pEXRB2L2rbdg202BVFTI3DmCmIE7yimreUGxTJbYCHZrdQVYeZflUphJ9B4wooMWj5H7/vZHYULrV9hmYLMCIHMlHlXI4+BOnisQhntazArYQELtHB2r256lNji491yR2KC01zEhkMgSrNoImdnPNpTAqfgv4O/lMgOXr7uvOWXKsWBr0JxLh9j1CmXOoDKjSMX2w3ehTsw/8wPx+4iTZwftQqMjInYFauTbrWv40GsJ188XkZBOZku4Tt66kdUYVK0y8UzNgbP0bf2mk5XtivILjvOo8F5SeLFtZAAIWa4uAJr8RJyQobB2Q=
  - secure: v7sxcTfwZ/mIfGXKVTRBoLYWAdaUichs8HJ9FjMYkq5fEEvdNqPcZ6STrsIW4CJd1Uo7XYMnqctehUXkkVv12jyHWZIML+1abIMNkP0WiPq4urcJC/e9/JYtHfL6qgbh8FrZN4H5sytncomDhzTdY6JpqoJtu3ukAd8UmZ/W2bqGOsjiVAmVAHE5BNJ+VENT0C1VdDAbcKa5Y3IZyVZzRzPmjwtzFbNFAsGYqo7lgyc4VlzZpMuogL7BMZpmWMj8PiNWB1qOMoEizVPOTQyrAG95ZfNDx/bhKHm+EWU5w4Iea21tWu7OfUj7UXHNboz2eTjZdkSUi4/BUXzRGe+M3N/vKLFbOo/nVjcQYEpHqJxs3YbjKhUD2o5KOG8b+DD0XsVnuUUBPiXbtF+X9FOgjrtc/9NPUSZJLet5N1k49J31yn1819QnEFPj2WmhIFj+cn3xwHS3sj2qpNYCgWuyxGr1w6Vhw9EhfbkqESjBugXFCPeJKV9WspeqiLhm7CJwz3nh87K4zeQoWVZHaE7dC0daCHJbeohjtMIixe3f9HRI6Ll8Fckdz/w6TCnTb7tdAEpQzg7EJovtoeMwBkoWOXJ3EqNWMuRblde339XblNnqtSB+nadpB83oFXniO8IolZh4i8WwhUi94ipQ+NQJttFviFh9R5msh6ajgPqzd5k=
  - secure: A6uG1b153yfuCL2739srLs9lmIKHuq4n7shlGnJcA3eN/1gVxcI61pp8hwo4R/DcaQ7Z+WUwlrJPXtWGAKCxQhoDUr9FltogLuujkHLun04wGVY7zml35ejT+wcT1f+Wvvn/0WAKQKeIHQGrBVk36tUIqZGWxXpbbcRBl0eTMOqGgm1FMxTEGOtthCj8qc7HeG3o9uHoFqgODKA8k2ttvyn+VgjU1d6DIEDCALHhMLTffgsg3QZdtDxcnpFOsVQtKYxlZW9Bce6p9XvPBOf+YSkkVKSKmOugGhW1rmXWJOdsPJ3UaEdwNUr7nWYlq9paOkHyzBWi8o5olkj3lp1uwD/Z1tekCKmJ3OG8HeEKZHF/TpueHWOygcO+EvrSdgJaZWnqhw0Xd/YPJY+0UEyvuPsWODO8ik8j6NOlbEkx9qVxwG9QXkfOde5TmAXFdv+QiGJa18noGZFbz05yli2uiQ8PebCsZsfViKEMvTMeRIk8fNwu14VpJedvpqf/wGUBkJ2E/JbvWuc6NOvqthM1FM2Eqi92bd9UeYqBR0VFGYaTxgP9odsRCQ6MeG0eN4+iSLiLn8t4uCUK7G72yv4mMv5ZICEyxxHf47d9MEYKEjDIy9GAwCCzvS3gWQtRFi5YjOnuX5PndTwf+kycAh7DeapmPLhGwLaQ2TEJmliJ43E=
  - secure: hKw2gdwAGt9VkAph1VRR/H+nKxH14ZUaJnDu9NAP7wp+3RR+n7joguvUr0xUNMKyCrBVlWjOYl+GQPahW9lmDBTBNtWPayaGdgBLqUGiWKgiik9XhpwxyL5fGb2Ojie2tp5Bbn5/r5+wzW7eEKxavGMOLCsGSyv3oJ7YdhMAz5Co55W6AfU4hluSPGO5J6hjawzwilhGf7A9sNeG2dXD2pjULz2hIwjyGH+6hdvZiWlSzvH8cHNVQbfNmuqvge28JqDk2uFB3jVqSwqOopyWA63R6l6ewgcmRdic1YEu0GUYJ77Q+YvrM6kXtcFty1WqT+YjMrsF6qZnr4vPS2WHWZ5HTbfctkyUd/9Rzi7gEt3hptotvYcfyzNXfomlMnKjPN11XmyUB/HR5jCUchmzbUV5sOx/xy/4cMeYBm/sLmwqlKJNg++rmzaP3nNGSp30riW77+B/THdiLMgYO4Y/GsToiX2/xcJsD6AmODuBBuRKEzkl2HCjMxmrsl1Zq8rHOmpy/oKG3wRyNFfAa270JFgBZgcs3fJ1hB1WQIAO7ee2+oG7Pt0t8hd12cFopr7DuqWEItZNJDWGeJ1PrwtKwh/eQ0RcS7qtH8EFHEXbPO9OwINvUA/7YUDN/h95Q8VjjbJTOmDfR/KOvb5TAVcaNcQykX45/WziIfOAWMQmsFE=
  - secure: 1dzVLXTiKQ10wFdu+JPQea1GV1uq8k4GURVFCM8ICLYlyRUh/GwXHBpMH189upaX6h+W1Td9tRRPNzT8p5TfXWWr4C2dHXDXfH9Ifwj6lmbqtMEFevKsaR9mkPMBGNuM7d3eA+y/j4ITljN8JgZbCYlvlmBVYsAt/I7lTcVHOOixa3IvH+kFL9iBnapVfd4ape0ZFQqf78IV3auM4IfzjVhBO2d/0HN3Bwyax96VN/SsXToRmnsYE5RzeIJ0zFkwhR8XZUDrjXLXp4/D4dFDiy5HKNhgSK4crRBMQx0NdRZ3Idqr8crcE0BOhQmx/er0gWzd4rraVommptqvu/dr4O9WZ3kDzjj9qyzV8WVsSzwT69IDwarQMrPmnXWyPkBF3rMHyt7VjOTkRVh8zLOk6pYwdyaRpMSd6Wgf6K9JU/b9mr3EQzuT5SJhgpOMi2zs3trhL/Q8Q0p+piQ7JqhKLt7eIxv4QI/4KkCEp+9+AD9vkBSDVmqwDkPZ8qmsVAC+80ugnGbz9cYXIAOWGYq5iZgtfQF/yjhuRqz5SiFwEDISGTS8XiF0gkblocUW5gchrPhlsB6ZLwC63ElbaK82P3arsnhz2Bm5JQNpH1TM7Cx2iEXB4H7GsoXXF5r/2HkB8o3sX2UO+t9jFWtTrFUETBr3FzuEcJsQ0KjexE3w7FA=
  - secure: U552WMEqyQVszhg96s+u1r6Hcjszhq9PbyLq3nHDhqS/ANq8tq5Xs/BuhEb3r0Zz6u7/5RCVY+J96YwSE3Xbrp5/IgJ/nzBq/7Yj1g4zzUqEhlhs3GVjTwW7tjsfo/DkOFg6LIDqeHBDnyQ9B80I8otlz4Ixi5Es8nS5k+f0Y2MRi1LxjorGdbc6jQd9tfMx7p9arytrmBeQgyzkbW+dbf/D6A+JS/OiIFqY5vNJx6rv4zyTRsf3Ul8D3N/9d1511AfHZ4xgDsGYGsupYMABOCPvB4K3zYzcGgORNZVE6pjN1w0c0SgzXQHGB1SU3lYAlVXqIEE8aJfhbWRQ7Ris/3fKJgL/HwkHkWZToPH2qCLH9N5THkc++8vcwLRAUOTe4WqVA2E5zZobEI71R5/T01yYpMebakwY7GzAvRObHcyKDBbvrolVQQISsAYuxfAdbJiO9/kMWv1oPXQz70LPm8fDjk18TjvQcZYfXNh+Xx8apcD0NQYWx77pu3jnQQV5iEgxCuuOllOVvNwDNubKMXviltCJnjm/edOhrJVaXH6vxZHIGdpuZvvWvlUcLzVEaEMfZ5PwPJsGirC+63DEJe2VtKHQYJv5wcT717Pj0ucwBdtR4BJzhVBDqZSX9U3DUsvCCjQSk6E8vesToOh7tSr6gD8KjPHI4Nn4aI6cRbA=
