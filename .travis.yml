# Copyright (c) 2018 JAX-DB
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

dist: trusty
language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/jaxdb
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -e -U -DskipRTests -DrepoToken=$REPO_TOKEN clean deploy -P javadoc,report,deploy;
  else
    mvn -e -U -DskipRTests clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: odPjowOfyQc5F6uaEwativQdIst5PUwrhc+tckrGPToT7+4gDbrCRz6jnfx5nqoobk1WzbKAS1OfIpGt6/3nwK+Jm+bL0QmJcJQTuutB9SB4ihSMhy1aplGmn7s4RW6VZ4z8J0HIt0vnzHB0bcOkZBKq3jiM7Q0KkRADxb7wLQYP6g97z1l6NBIRGdgkdJmoA3qsQxAQfpzzPGQNAhC7lDdGzNh4fSGBqh3AP66XGkoaVSfEMRik2QuhNq2FS79hBgZ4P/dwN/Ts1iwJrmUogTN115PqgEY8ztUCSv3xRmJEttfCbESFFT0GK0lpHpfBQYgr3J9Byor74/JZYs1cMp80udFoVNn3D7ezRYaM6EzuOv+yATZ/sdG55+ztmyGo1lwpZTuVQSFARHrmMcy4OP+LQiQl5NuKGWPNUXZ1IMC2huXsUrYfzV1Whu0VsjorkZveRF/UkTJAOkvHAM888BZZnW/RM8nIlNbt4ayuT6EAU6C4b+AaLA8ArPi6LwL3FU3Jr9T4qAuBqARBcLXM5i7dEFUHSF68blFfvjzJHtgaAvNiWGGJGRMZ0Z/WzZLtGVsvy0TrjGq/POB1xx7hB3af48Jw6mNOqQ4JYDB7mI88DDp1pP/qu6rFc7WaWZIxTW0QKqY0WJhrsjWyEGP25SeWcSMtNdA3qpUNehec+FU=
  - secure: ZuQoL9R5Hmlk/gcIiws9S9uaulpkiGDZRf5gAHPCGdh0DiJ4bhsH9m4EXAmsLkqG6ycH9F5qX8JC4C9MUJ0003r4K/E4juNUl2daSV45hXdEm88BDp9Achfln5dldAIMqEYyMye9Frn+UR00S1jSwyos1vVYVsQ6mIzDpC4kbz1H+xROlH/4r0hQ7kkOp/i/bXuZD3263MzyPYo87qZJz9a/vFUwH/xEXjgZ6eb0DuLFW4kDxURzAKz8XOivjrir0WR0CpZIGE/8/Nk5aGFoFse31FrC6xpddfdcgOgwvEDlG2U/kPaZnuMJvhEq2X6YwDHAVWFYY2vWXzCRqZLpYzDHg7DKmsOiDx2G7xxNhbW7B0RHBMy99H0pNzvv6fEeaixY8P4ZGIWHtaRqvOpAfOaggDQAbkN9gOyrCTQ6QS3E/l+dXpnIvHhIC8g/k+Xslo28Nsg4BwPKa22P3aQEToJidRFuatnFNkVP5UKkLkh+HZce6j3JxsegR9mLsp4PUZQoiQZoNJh4BYpqSyZlVz51mslVlqD1I2io4nKpEmRgj1v/Adx/PRWG0M8voYuU+uu+Jsyp+r4AKLS8WRCkdGJWLscu260K7NCkteUnt5/f1sI0Bfj/QJ1C22aom6eWAfNAsOgUy0D7GAcWW7M5+L+as194Aw4mBf52t5jAxSY=
  - secure: u1SSp7/QPp3mJSdxcdZdhu3EojS63vBwL5GBaV0DQU6RL6UVmpPZvOlop2INKvrihO0Ai8GQNeKQYMY4cc7qxeHTkZkArKexYmEWxRFt7QT62HCQt8wUgl6xjC3Tywt2LFDPftgmQZArsVAjMRT/uP5Mad5+3n1rzRIw1D3LzeK7UsVWZkGJe+04LUy6lpXsVmj/AFviLQOYEOUwvzhYLO7csjbYa/RPNILJgtXZZOl8exgn2D8IjtPoP7N55jDxkgCHgcaq2P6ajQ0GnAP6L0PFKibz2w9d5LWZZp1uo4ejsqpEslR/J6R4cSzn81Lb1zzzKFC4SqGybhlnHLPOA12tVj1OX1yzxHJ/BYz7dx0GAKDOveAKNhTW+MgcUc6HbRcATxkL+ojL5pE73ACdEBzrD7H7hyvltM5WvsYFB+I4FofFoNcH+Genz5yKr/tC913hwnWcuzm33aObltPrsV+U7p+hinB+/VYIzpMZ4zknshGiWXmo0Rrl/QNh6V3Gu+0h/T2dUSiPg7U/CwWb2cl3J7gJv1fefoey6NutC5TO6WWEaPiNlzudPl4i7VKzufgL6/moNtMO492DZb34eXgL22wqL8VjIqIw0/w10d5YcqVxKu7PYZi6LTU7/192NeJVI012Bir6f+SQeG86gwTAHHpFaH1iBhR1r2DjwvM=
  - secure: od/FZDEcEhkD9anQxQxdnZjJHIHJqYyXgz01WWrXh62b86DXL2RnHHOy1eVF1EhQ9YQU/4fOVaTwLIFol1EZHtVuzDA1bd8lcXrKerh4jMbBYDCOzKNkyIV3J/FfqwGD0BPdtq0pp1lJKLj5xUcsGFBO9xGmdssCrTJpN3k2cwSFzP1yWxklY84eQ26JfTSl7y+XmRCD2G7DHePe7Rd9Y3hIhobL5wV+xqPvLGlfZk4wpM+621GOqAE3r0aeOu5NXQAoU6mxqEUEdycEqNZZe5o1Z6do/HpR8qxqel69GnIg5S11sJ9EEM3kZjg7iGKdLPVQR0TFHg7vt1RXC5YmebFOBKUzOW5DNhwk5NSDgiJUW/O0MkjwPruK9RvQwuq9jqnAjs/k9CjXlTRXi+s4lD+IiXtPGIc/mJ+T+E70oovPak8AesJa5HpRVQ7byZ79+wFiiKOzskF+bWidPbfYhR4u6yZmo7e0YQ3E60YiiAOyYuGD9lwVyhV6Wa3p4nlFe0eR6m8DV4Ktt9vJAg10vViFWD5Q/7PoDrfZWy8VfTFCK5idZFGDzVp/A/AYtG5jYmIMn4EpmHvK0IO/xW5E5F6gZ1MxSVG8tGYihrAnUEqNrZekLwy222nGYoXHKL9RLKB21oNoNMHRFu5R+/FYkKt7yJ4k1M4hoqqB8m2Pb4s=
  - secure: stkGHlK9qFRDAOEKLk8wnbEIXZ2NgrEIqKnEHr/WIFtDtdPtZzIHWkkQu5CP0CQLlAXEjAlWOoTmuZNjxWFg+KexGrrOydJxu5Xx1mg7QzdHKk/WTuekSBYNSXdzeGfu5a4hOZMNsoQnW1L9DMWHUiP+Kuy9lsm3cNCG82OHuI5Hb/TygI5WRQbxlqJRtrDEbiiq32t9ghFgYVH//rqoHiAFydITnRGTYx0Nrm8yd3M8Bqh5UDzBCC6apB3s7HvizUakdJLl3HBASErctbcYWuMJozuiKL8znht3NVlFImRb8U9xwtC3fj5R5ucYW6j1gjoqFy/+x+2W0HHWRbrhqiH4XE0hOoPEpAk2pbblp+uNYdPYLTTPtvYQANjJl1F4iD8jUjhrjOYYoCJBKHz2keCAZCCk+fqmnWI8+23oXNEHKSPpgD96HRIsqa3dd4aM6M1yvRAWsOJaF2ydQmpKVQGhGpLKxnyWrdS1Qt2bwY5GXmXbC9H/TstfogBYvAu+V2I3BTovEsUxjAr5VYuL/XA7kg6g/0rWsi9siM2IuUT18pGET21cpZfzzqEH8YKpoGnKJqfyPGt2WXTXzVowAXt01JeDzbCBYgYdzgygtWY4Sxx4/fVgim1mN5xFuC1NJ536MGovRd0vEI4sEEpkngtTCJcN1ZEIyVSQHdW0i1g=
  - secure: RzBqBPfcGzuKxSymw1b1aq0yD5aD4vGGhnHdZFOs6/YJknUHrd4gF3zskz62G2ME+kpQIwf/HPAdEzkkffoC7qHrYAUrnNpSMElgH3XBk/f5zjaE3cCLqyT/LgAe1X5i+PH8ehbmhakzXWbogqJWHixeDVfA922jM5lW8XsbndjKgK6qj1skRc5Dt9sUmFVAkhnzSqotDRCl9KMhpIAvrQqbP4+1R5ZR1b4bZOGD7x5AIzw5kQvj07hw66FNrMB0OTs6xXWEz0zaghwbd7b09ucrAK5Y/qUK+K7bXOWm+9eEtnOV3GiAtqUUAaPwOx0ppkq/2HD3AusdUuvOX4ypCAIgr9+7vNhZXGRr11vC+RJw/Yv6wSBGk/pPYQZh1HLlpQ9sQsEGdVP9pJCweLvpwFEGYGkvlcX04UHFQ2Fjo4anDuJmyhPilc8Ld/W8ev7uykMti7Vo4WqTlk1eBfJ0WE8eCAO9fyPt5bAf8B+xdEiASJuO6cu2hftURf37/VoLdRXQ/IRGoxEqYC9Sk0mCdgc+qc6mcIWtQKeGMO+LM9Z9NcaUtptcMF6DvX2WmyLX+ntljkQ7XyMbkGQ16O3S80RX7IRS2ih0970RmB/OEkJJL6uE+X06kAnZLwLS3KEjhNeB0qaiG8qFXUfjftFbIgvDjGkeOoBUjv+nITqEkFc=
  - secure: iqWSj967gqF3qTosumzdwML/TX88jJkF8t+/0JB+W8V0UT2ErObWcRX9yb4o0rVF/ZEKj3FLBOuektcra/n5RCg3Lo2BTBBXG72CRVXLUbjxvPUQOwR9nsgb77BvDwJv47eVoqoK9lDT5xBSXsAEYUOPU/McAfCRTYSvuC476sAY6YQYs1TnZPi2rb41jF5bb4z6SjDZCDA5W445i+sU29vUJ3tLvdkwpyOfVQM/fFNcyuq88G+SyATS+gM7NNAXNourDZ1Y2GsVpQbtuaDzxY4h/EykjyK5ANJDI1sKFsQc+RldGQQbFT6vcDj9H+oMJRWsxSqYpOUM4Z4Rwuf4+iu4MtKcuYY4lIWaUiW41ltKJoLVrlxE8glYWEf/+kGRM+jgraV9wFC/8ADjsWLwO7OcD5/pGOedOul4Nk92KGZpMYKsJIOpamylHUE5dH4zeKm+GCnPzCNPPLRsZLdvgtXkM+vT5Xnbt24bY+YQnl0rP2ThZGf7E4I0uR9T99EW2VJ8KT8dTQZAbTJ1cX3IJmVCW9krl6nIu72GKUIilXrYP6qSdFYpBvXCf1wXckdjQNceAdcav6SIou0+ao0BA7KvL5uE1aJicHL516y+O8sXvn5xGwragGjmEFMPDI2kp71fE6m4k6rfG9xcDmPbs6EBQU0F/vUKiImoH1wRf5Q=
  - secure: vIKQYD1geYqXBGeIvN/AGgemwROtlzdN+mTGqFka7f1/MZutKSJi3b0+ufdo25Cb2Lg1aRp+iPG0MjxKeUYPjToXwQqTkXRcbeabnFHK2e20zmavwUyPW+3qi5n40371js5/FNMbnnK92Y9ipmYIl/VmW3LKAKmsNQja0wNCfSEUk6NVP6ko+wPPE+43JN53i3hZFC15a6b/Yf/MEWmGk9poZ7i5gE5vAn0GjE5+kZ2sC+6M0qWKNvTRVuvpga0kMn0gpFaN+/3u7RE5G3s/eo6w1ITBRoRjRp4qOh1RgPyO0aQUWrASwITV8Y4up1fqDtd4WN29Ob7Kw3mKaECpfeFtnhyeGf+fVXq1q8TG/NwzcaSKEd1HJ1iPNbd7SQ5AN5I00q9tn941++gkQqHrdeaFF/JYiRThxkAQZ4ro7Qr4DszxPJHasaLIh4grlqwJg7TvvaSFoorU9MUyXqjQ96744uhoW1Zfzmjuh+k3jvd11PcZ6gAGsisdzAxPNioRjZmnrXVyngw0mab2hGkx/1q5/GFsZDKoPclokot541fNA+/P34wfU/sLxL/jfMKPA8REjzWdcQHUNp6lTQ7v0qRPGA09gSSqyecH05PLxlKATmQPY2YouwTUzA25+Iji+goDHtYxd83/YhjjrrksvKwVIxQfkTGxiLqPCaZ/jN0=
  - secure: hWTrJzaDY/uaDTbYjpBF5Yozt3McVNTPvOhSR8iXPcM6ypLGN/WlvW+AWC0EtP6TDhm0ML62P7yFAacFzGmYlrr2mtAs348SQSZFy7cIQZ3mq+5g1B18EUKm4w0ZkKC1rOWsQR6XzK6ep+9m+kNpKYLH9g45dupvJw9YYH+Yx/9ZbwTGYtCbQv8NOecCraxOq7qPithBp8TXp50uoOvk7jfY2g9B3utxf/4wQ/CG3d5cY3K9Al1dQvGp1vVORCIxonX4aCusXdppnn5AKgCb+G7loKXfJ5jyOJRthPgVrTIiLGEZeWo+9TDH6oRBJwIAcHkekfs5OUa3P4juinAetMaMMdtspKeP9LDgl9xiDQSAieNA53KySegzc1IPla9fGFQQLCFZWqaIjSVnlPxidmBck8Qnhkaw1XN6qF9bM3r+m+6o3f7la00pV79bv/1eHF9LD3GY0AHTnEmSg+ARJMhBSbzSFMFB+L/sjFeOe/J7dV5vESnicPJqaet5SspHsonGBR+s5DS++JitsFZ/wWMztOicXl3cfToa6IKdOGFTPidV5/xEIA3rizc8rtWG5Xo+wgCYJhgCD0inM9rfHeYGQrdHYHSxOaB5ZPWospOUooa5uLEzvMddbKGpdpUNScqgNaEHbBek0hdUdx3DqnKsbTZ23WgOhZfaevrAc3w=
